<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>golang</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<div id="Golang"><h1 id="Golang" class="header"><a href="#Golang">Golang</a></h1></div>

<div id="Golang-VS Code"><h3 id="VS Code" class="header"><a href="#Golang-VS Code">VS Code</a></h3></div>

<p>
<a href="https://github.com/microsoft/vscode-go">https://github.com/microsoft/vscode-go</a>
</p>

<p>
<a href="https://github.com/Microsoft/vscode-go/wiki/Go-with-VS-Code-FAQ-and-Troubleshooting">https://github.com/Microsoft/vscode-go/wiki/Go-with-VS-Code-FAQ-and-Troubleshooting</a>
</p>

<div id="Golang-Proxy"><h3 id="Proxy" class="header"><a href="#Golang-Proxy">Proxy</a></h3></div>

<p>
<a href="https://goproxy.io/zh/">https://goproxy.io/zh/</a>
</p>


<div id="Golang-Extentions"><h3 id="Extentions" class="header"><a href="#Golang-Extentions">Extentions</a></h3></div>

<ul>
<li>
Settings Sync 同步我的配置到 gist

<li>
vim

<li>
trailing-spaces

<li>
ms-python

<li>
EditorConfig

<li>
auto-close-tag

<li>
auto-rename-tag

<li>
...

</ul>

<div id="Golang-go mod"><h3 id="go mod" class="header"><a href="#Golang-go mod">go mod</a></h3></div>

<p>
<code>go mod init XXX</code> 之后，用 <code>go get</code> 才能用到 goproxy 的设置。
</p>

<p>
go 的模块目前看起来有点奇怪，目录名 <span id="Golang-go mod-不一定"></span><strong id="不一定">不一定</strong> 需要和 <code>package</code> 关键字指定的一致，<code>import</code> 时强制指定别名就能用。
但同一目录下所有 <code>.go</code> 文件的 <code>package XXX</code> 需要一致
</p>


<div id="Golang-go build"><h3 id="go build" class="header"><a href="#Golang-go build">go build</a></h3></div>

<p>
<code>go build -ldflags "-s -w"</code> 编译出的文件会更小。
</p>

<div id="Golang-go get"><h3 id="go get" class="header"><a href="#Golang-go get">go get</a></h3></div>

<p>
一般，包名和仓库地址一致，而且大家都喜欢把包放在 github 上面，所以常见包名 <code>github.com/foo/bar</code>。
</p>

<p>
<code>go get</code> 的先下载 <code>PACKAGE?go-get=1</code>，发现其中的 <code>&lt;meta name="go-import" ...&gt;</code> 再去取仓库数据。github 或 gitlab，都会在其仓库的 html 页面上生成这么一行数据。
</p>

<p>
根据 get 的逻辑，包名与仓库地址可以是不一样的，参考 uber 的 <code>go.uber.org/zap</code>：
</p>

<pre sh>
$ curl go.uber.org/zap
&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;meta name="go-import" content="go.uber.org/zap git https://github.com/uber-go/zap"&gt;
        &lt;meta name="go-source" content="go.uber.org/zap https://github.com/uber-go/zap https://github.com/uber-go/zap/tree/master{/dir} https://github.com/uber-go/zap/tree/mast
er{/dir}/{file}#L{line}"&gt;
        &lt;meta http-equiv="refresh" content="0; url=https://godoc.org/go.uber.org/zap"&gt;
    &lt;/head&gt;
    &lt;body&gt;
        Nothing to see here. Please &lt;a href="https://godoc.org/go.uber.org/zap"&gt;move along&lt;/a&gt;.
    &lt;/body&gt;
&lt;/html&gt;
</pre>

<p>
可以看到，实际仓库地址是 <code>https://github.com/uber-go/zap</code>，但是包名使用了自定义的 <code>go.uber.org/zap</code>，其中的 go.mod 也有体现。
</p>

</body>
</html>
